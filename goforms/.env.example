# GoFormX Go Backend - Environment Configuration
# Copy to .env and update values for your environment
# Primary dev workflow is DDEV — see goformx-laravel/.ddev/docker-compose.goforms.yaml

# Application
APP_NAME=GoFormX
APP_ENVIRONMENT=development
APP_DEBUG=true
APP_LOG_LEVEL=debug
APP_SCHEME=http
APP_HOST=0.0.0.0
APP_PORT=8090

# Database (PostgreSQL via DDEV sidecar)
DB_DRIVER=postgres
DB_HOST=goforms-db
DB_PORT=5432
DB_NAME=goforms
DB_USERNAME=goforms
DB_PASSWORD=
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5

# Laravel Assertion Auth
# HMAC-SHA256 shared secret — must match GOFORMS_SHARED_SECRET in goformx-laravel .env
# Generate with: openssl rand -hex 32
GOFORMS_SHARED_SECRET=

# Session
# Generate with: openssl rand -hex 32
SESSION_SECRET=

# CSRF
# Generate with: openssl rand -hex 32
SECURITY_CSRF_SECRET=
SECURITY_SECURE_COOKIE=false

# CORS (allow the DDEV Laravel site)
CORS_ALLOWED_ORIGINS=https://goformx-laravel.ddev.site,http://localhost:8091
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-API-Key
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# CSP (uncomment and adjust for embed page testing)
# SECURITY_CSP_SCRIPT_SRC="'self' 'unsafe-inline'"
# SECURITY_CSP_STYLE_SRC="'self' 'unsafe-inline'"
# SECURITY_CSP_CONNECT_SRC="'self'"
# SECURITY_CSP_FONT_SRC="'self'"

# API Keys (optional)
# SECURITY_API_KEY_ENABLED=false
# API_KEYS=key1,key2

# Timeouts (defaults are sensible — override only if needed)
# APP_READ_TIMEOUT=30s
# APP_WRITE_TIMEOUT=30s
# APP_IDLE_TIMEOUT=120s
# APP_REQUEST_TIMEOUT=60s
